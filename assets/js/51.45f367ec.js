(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{287:function(n,s,e){"use strict";e.r(s);var a=e(14),t=Object(a.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"nsis-制作32-64安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nsis-制作32-64安装包"}},[n._v("#")]),n._v(" NSIS 制作32+64安装包")]),n._v(" "),s("p",[n._v("单位有个企业网上申报客户端软件，是有两个dll文件是有32和64区分的，想利用NSIS脚本自动判断系统的位数，然后自动去选择不同的dll文件安装。先是让开发商解决，过了好久得不到解决，现在自己把这个问题解决了，下面是我查阅参考的内容：")]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"nsis判断系统32位-64位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nsis判断系统32位-64位"}},[n._v("#")]),n._v(" NSIS判断系统32位&64位")]),n._v(" "),s("p",[n._v("使用NSIS做安装包有时需要判断系统是32位还是64位进行不同的操作，比如安装某个驱动要分不同位数进行安装。\n首先需要包含这个")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('!include "x64.nsh"  ;---64位文件头\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("必须要有这个，不然各种报错，之前网上查到用法，有些人没说明这个，用起来各种报错，一脸懵逼下面是用法")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Section\n;64位系统\n  ${If} ${RunningX64}\n;这里进行相应的操作\n  ${Else}\n;这里进行相应的操作\n  ${EndIf}\nSectionEnd\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/a137748099/article/details/88596984",target:"_blank",rel:"noopener noreferrer"}},[n._v("原文："),s("OutboundLink")],1)]),n._v(" "),s("hr"),n._v(" "),s("p",[n._v("参考：")]),n._v(" "),s("h2",{attrs:{id:"nsis判断32或64位怎么写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nsis判断32或64位怎么写"}},[n._v("#")]),n._v(" nsis判断32或64位怎么写")]),n._v(" "),s("p",[n._v("因为有两个dll文件是有32和64区分的，用nsis脚本自动判断是多少位的系统，然后自动去选择不同的dll文件安装。"),s("br"),n._v("\n现在在NSIS的教程里找到下面代码：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("!include x64.nsh ;---64位文件头\nFunction .onInit\n       ;64位系统。\n        ${If} ${RunningX64} \n        ${EnableX64FSRedirection} \n        \n        ${else}\n        MessageBox MB_OK \"Sorry this application runs only on x64 machines\"\n        Abort\n        ${EndIf}\nFunctionEnd\n\nSection -un\n       Detailprint '$SYSDIR'\n       DetailPrint '$WINDIR'\n       DetailPrint '$PROGRAMFILES'\nSectionEnd\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br")])]),s("hr"),n._v(" "),s("h2",{attrs:{id:"nsis检测x64-or-x86问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nsis检测x64-or-x86问题"}},[n._v("#")]),n._v(" NSIS检测x64 or x86问题")]),n._v(" "),s("p",[n._v("想共同维护一个NSIS脚本文件的，不想搞两个版本的脚本文件了。开始想到了!if语句，没试过，不知道行不行得通。"),s("br"),n._v("\n后来google了一下。可以用两个头文件搞定。参照下面链接。")]),n._v(" "),s("p",[n._v("Reference 参考1：\n"),s("a",{attrs:{href:"http://stackoverflow.com/questions/11126629/use-one-nsis-installer-to-install-32-bit-binaries-on-32-bit-os-and-64-bit-binari",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://stackoverflow.com/questions/11126629/use-one-nsis-installer-to-install-32-bit-binaries-on-32-bit-os-and-64-bit-binari"),s("OutboundLink")],1),s("br"),n._v("\n使用一个NSIS安装程序可以在32位操作系统上安装32位二进制文​​件，在64位操作系统上安装64位二进制文​​件吗？"),s("br"),n._v("\n我目前有两个WIX安装程序用于我维护的产品。一个用于32位操作系统，一个用于64位操作系统。我想将它们组合成一个NSIS安装程序，而不是维护两个单独的安装程序，它可以“确定”操作系统的“位数”，然后将相应的二进制文件复制到程序目录中。有没有人有这方面的经验，并可以提供NSIS可用于制作安装程序的工作示例脚本？"),s("br"),n._v("\n我确实看了这个，它将允许我确定操作系统的位数，但我仍然遇到问题，我需要告诉安装程序要安装哪些文件。我目前有一个“部分”包含这个："),s("code",[n._v("SetOutPath ${PROGRAMINSTALL} File /r build\\\\*")]),n._v("所以我不确定x64模块会在这种情况下有所帮助."),s("br"),n._v("\n另外，我不是在64位系统上安装32位二进制文​​件......我在64位操作系统上安装64位文件，在32位操作系统上安装32位文件."),s("br"),n._v("\n这确实告诉系统要安装哪些文件。如果您放入64位文件build\\64和32位文件build\\32。如果您还需要根据体系结构更改安装目录，那么您可以放入SetOutPathIf / Else -")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Function .onInit\nStrCpy $instdir $programfiles32\\MyApp\n${If} ${RunningX64}\n  StrCpy $instdir $programfiles64\\MyApp\n${EndIf}\nFunctionEnd\n...\nSection\nSetoutpath $instdir\n${If} ${RunningX64}\n  File /r build\\64\\*\n${Else}\n  File /r build\\32\\*\n${EndIf}\nSectionEnd\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br")])]),s("p",[n._v("我相信我弄清楚了......我还没有测试过这个，但它应该有效......"),s("br"),n._v("\n答案是为每组文件创建两个“部分”。SEC0000适用于32位和SEC0001适用于 64位文件。然后，")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("!include x64.nsh\nFunction .onInit\n  #Determine the bitness of the OS and enable the correct section\n  ${if} ${RunningX64}\n    SectionSetFlags ${SEC0001} 17\n    SectionSetFlags ${SEC0000} 16\n  ${else}\n    SectionSetFlags ${SEC0001} 16\n    SectionSetFlags ${SEC0000} 17\n  ${endif}\nFunctionEnd\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br")])]),s("p",[n._v("我相信"),s("code",[n._v("un.onInit")]),n._v("函数中也需要相同的逻辑，因此卸载程序知道要删除哪些文件..."),s("br"),n._v("\n使用"),s("code",[n._v("sections.nsh")]),n._v("中的帮助宏来选择/取消选择部分"),s("br"),n._v("\n对于使用3.0a0的简单通用安装程序，我通过一些实验发现以下内容对我有用：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("!include x64.nsh\nFunction .onInit\n  #Determine the bitness of the OS and enable the correct section\n  ${If} ${RunningX64}\n    SectionSetFlags ${SEC0000}  ${SECTION_OFF}\n    SectionSetFlags ${SEC0001}  ${SF_SELECTED}\n  ${Else}\n    SectionSetFlags ${SEC0001}  ${SECTION_OFF}\n    SectionSetFlags ${SEC0000}  ${SF_SELECTED}\n  ${EndIf}\nFunctionEnd\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br")])]),s("p",[n._v("我只需要记住在引用的部分之后放置函数。我的每个部分都简单地在它们各自的32位/ 64位/目录中引用了同名的.exe，因此我的卸载程序不需要任何特殊处理。我没有在32位系统上测试它，但它确实适用于64位系统。"),s("br"),n._v("\n例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('section "64-bit" SEC0001\n  messageBox MB_OK "64-BIT!"\n  File "C:\\foo\\64-bit\\some-utility.exe"\nsectionEND\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("p",[n._v("为此你需要"),s("code",[n._v('!include "Sections.nsh"')]),n._v("在你的脚本中"),s("code",[n._v("SF_SELECTED")]),n._v("选择的是"),s("code",[n._v("Sections.nsh")])]),n._v(" "),s("hr"),n._v(" "),s("p",[n._v("Reference 参考2："),s("br"),n._v(" "),s("a",{attrs:{href:"http://stackoverflow.com/questions/21822044/merge-32bit-and-64bit-installer-into-one-installer-using-nsis",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://stackoverflow.com/questions/21822044/merge-32bit-and-64bit-installer-into-one-installer-using-nsis"),s("OutboundLink")],1)]),n._v(" "),s("p",[n._v("使用NSIS将32位和64位安装程序合并到一个安装程序中"),s("br"),n._v("\n我使用NSIS创建了一个简单的安装程序。我希望安装程序应该检测客户端正在使用的操作系统。如果客户端使用的是32位操作系统，则应将所有文件复制到Program Files（32位）文件夹，否则如果他/她使用64 -bit操作系统，所有文件都应该复制到64位。任何人都可以帮我解决这个问题。"),s("br"),n._v("\n以下代码将完成任务。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('!include "x64.nsh"\n...\nvar copyDir\nsection ""\n\n${If} ${RunningX64}\nstrcpy $copyDir "C:\\\\Program Files(x64)\\\\Foo"\n${else}\nstrcpy $copyDir "C:\\\\Program Files\\\\Foo"\nsectionend\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br")])]),s("p",[n._v("虽然它只是检测Program Files目录，但我认为$ProgramFiles会根据OS位自动检测默认的Program Files目录。"),s("br"),n._v("\n与上面相同（不要忘记包含LogicLib.nsh 和 x64.nsh）")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('Function .onInit\n    ${If} ${RunningX64}\n        StrCpy $INSTDIR "$PROGRAMFILES64\\myProduct"\n    ${Else}\n        StrCpy $INSTDIR "$PROGRAMFILES\\myProduct" ; $PROGRAMFILES32 also works\n    ${EndIf}\nFunctionEnd\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])]),s("p",[n._v("（可选）您还可以设置注册表视图（请参阅"),s("a",{attrs:{href:"https://github.com/NSIS-Dev/Documentation/blob/master/Reference/SetRegView.md",target:"_blank",rel:"noopener noreferrer"}},[n._v("SetRegView"),s("OutboundLink")],1),n._v("）")]),n._v(" "),s("hr"),n._v(" "),s("p",[n._v("Reference 参考3：\n"),s("a",{attrs:{href:"http://stackoverflow.com/questions/7152689/problem-using-runningx64-in-nsis",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://stackoverflow.com/questions/7152689/problem-using-runningx64-in-nsis"),s("OutboundLink")],1),s("br"),n._v("\n在NSIS中使用$ {RunningX64}的问题 ?"),s("br"),n._v("\n我在我的脚本的几个部分使用下面的代码。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("${If} ${RunningX64}\n; 64bit bits go here\n${Else}\n; 32bit bits go here\n${EndIf}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br")])]),s("p",[n._v("在一个函数中它运行得很好，但是除非在正确执行的初始调用之后使用它们，否则其他调用将不起作用。"),s("br"),n._v("\n我无法找到这种行为的任何合理原因。我已经包含了"),s("code",[n._v("LogicLib.nsh")]),n._v("和"),s("code",[n._v("x64.nsh")]),n._v(" 文件，但是它通过了64位部分。"),s("br"),n._v("\n我这样使用GetVersion插件：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Var WINDOWS_ARCHITECTURE\n\nGetVersion::WindowsPlatformArchitecture\nPop $WINDOWS_ARCHITECTURE ; 32 or 64\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("hr"),n._v(" "),s("p",[n._v("Reference 参考4：\n"),s("a",{attrs:{href:"http://www.cppblog.com/Mumoo/archive/2012/05/11/174542.aspx",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://www.cppblog.com/Mumoo/archive/2012/05/11/174542.aspx"),s("OutboundLink")],1),s("br"),n._v("\nNSIS IF与WHILE的使用")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("逻辑语句的宏文件： !include logiclib.nsh\nIF语句：\n   ${If} $0 == 'some value'\n      MessageBox MB_OK '$$0 is some value'\n   ${ElseIf} $0 == 'some other value'\n      MessageBox MB_OK '$$0 is some other value'\n   ${Else}\n      MessageBox MB_OK '$$0 is \"$0\"'\n     ${EndIf}\n\nwhile循环：\n   StrCpy $R1 0   ;----字符串赋值为整型\n   ${While} $R1 < 5\n   IntOp $R1 $R1 + 1\n   DetailPrint $R1  ;----打印字符串\n${EndWhile}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br")])]),s("hr"),n._v(" "),s("p",[n._v("此文章只是简单的将32和64的安装脚本组合在一起制作的安装包，会根据系统选择性地安装对应的东西到对应路径下。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('; 该脚本使用 HM VNISEdit 脚本编辑器向导产生\n; 安装程序初始定义常量\nRequestExecutionLevel admin  ;------针对UAC进行权限请求\n!define PRODUCT_NAME "xxx"\n!define PRODUCT_VERSION "1.0"\n!define PRODUCT_DIR_REGKEY "Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\xxx.exe"\n!define PRODUCT_UNINST_KEY "Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\${PRODUCT_NAME}"\n!define PRODUCT_UNINST_ROOT_KEY "HKLM"\n!define PRODUCT_STARTMENU_REGVAL "NSIS:StartMenuDir"\n\nSetCompressor /SOLID lzma\nSetCompressorDictSize 32\n\n; ------ MUI 现代界面定义 (1.67 版本以上兼容) ------\n\n\n;--------------x64安装定义----------------------------\n!include "MUI.nsh"\n!include "x64.nsh" #---------加入64位头文件----------\n!include "Library.nsh"\n!define LIBRARY_X64\n;-----------------------------------------------------\n\n; MUI 预定义常量\n!define MUI_ABORTWARNING\n!define MUI_ICON "E:\\xxx\\logo.ico"\n!define MUI_UNICON "E:\\xxx\\modern-uninstall.ico"\n\n; 语言选择窗口常量设置\n!define MUI_LANGDLL_REGISTRY_ROOT "${PRODUCT_UNINST_ROOT_KEY}"\n!define MUI_LANGDLL_REGISTRY_KEY "${PRODUCT_UNINST_KEY}"\n!define MUI_LANGDLL_REGISTRY_VALUENAME "NSIS:Language"\n\n; 欢迎页面\n!insertmacro MUI_PAGE_WELCOME\n; 安装目录选择页面\n!insertmacro MUI_PAGE_DIRECTORY\n; 开始菜单设置页面\n; -------------------定义语言字符串变量-----------------------------\nLangString LANG_PRODUCT_FLODER 1033 "xxx English"\nLangString LANG_PRODUCT_FLODER 2052 "xxx 简中"\nLangString LANG_PRODUCT_FLODER 1028 "xxx 繁中"\nLangString LANG_PRODUCT_NAME 1033 "xxx English"\nLangString LANG_PRODUCT_NAME 2052 "xxx 简中"\nLangString LANG_PRODUCT_NAME 1028 "xxx 繁中"\n; ------------------------------------------------------------------\nvar ICONS_GROUP\n!define MUI_STARTMENUPAGE_NODISABLE\n!define MUI_STARTMENUPAGE_DEFAULTFOLDER "$(LANG_PRODUCT_FLODER)\\$(LANG_PRODUCT_NAME)\\xxx"\n!define MUI_STARTMENUPAGE_REGISTRY_ROOT "${PRODUCT_UNINST_ROOT_KEY}"\n!define MUI_STARTMENUPAGE_REGISTRY_KEY "${PRODUCT_UNINST_KEY}"\n!define MUI_STARTMENUPAGE_REGISTRY_VALUENAME "${PRODUCT_STARTMENU_REGVAL}"\n!insertmacro MUI_PAGE_STARTMENU Application $ICONS_GROUP\n; 安装过程页面\n!insertmacro MUI_PAGE_INSTFILES\n; 安装完成页面\n!define MUI_FINISHPAGE_RUN "$INSTDIR\\xxx.exe"\n!insertmacro MUI_PAGE_FINISH\n\n; 安装卸载过程页面\n!insertmacro MUI_UNPAGE_INSTFILES\n\n; 安装界面包含的语言设置\n!insertmacro MUI_LANGUAGE "English"\n!insertmacro MUI_LANGUAGE "SimpChinese"\n!insertmacro MUI_LANGUAGE "TradChinese"\n\n; 安装预释放文件\n!insertmacro MUI_RESERVEFILE_LANGDLL\n!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS\n; ------ MUI 现代界面定义结束 ------\n\nName "${PRODUCT_NAME} ${PRODUCT_VERSION}"\nOutFile "Setup.exe"\n\nInstallDir "$PROGRAMFILES64\\xxx\\xxx"\nInstallDirRegKey HKLM "${PRODUCT_UNINST_KEY}" "UninstallString"\nShowInstDetails show\nShowUnInstDetails show\n\nSection "MainSection" SEC01\n${IF} ${RunningX64}\n;-----------------------------------\n!ifdef LIBRARY_X64\n${DisableX64FSRedirection}\n!endif\n;--------------------------------------\n  SetOutPath "$SYSDIR"\n  SetOverwrite ifnewer\n  File "E:\\xxx\\xxx"\n  File "E:\\xxx\\xxx"\n  ExecWait "$SYSDIR\\xxx"\n  SetOutPath "$INSTDIR"\n  File "E:\\xxx\\xxx.exe"\n  \n  SetOutPath "C:\\Windows\\SysWOW64"\n  SetOverwrite ifnewer\n  File "E:\\xxx\\xxx"\n  File "E:\\xxx\\xxx"\n  File "E:\\xxx\\xxx"\n; --------------------------------------------------------\n\n;----------与后面指令对应--------------\n  SetShellVarContext all\n;--------------------------------------\n\n${Else}\nCall .inFirefox\n  SetOutPath "$SYSDIR"\n  SetOverwrite ifnewer\n  File "E:\\xxx\\xxx"\n  File "E:\\xxx\\xxx"\n  File "E:\\xxxx\\xxx"\n  ExecWait "$SYSDIR\\xxx"\nSetOutPath "$INSTDIR"\n  File "E:\\xxx\\xxx.exe"\n; --------------------------------------------------------\n${EndIf}\n\n; 创建开始菜单快捷方式\n  !insertmacro MUI_STARTMENU_WRITE_BEGIN Application\n\n  CreateDirectory "$SMPROGRAMS\\$ICONS_GROUP"\n  CreateShortCut "$SMPROGRAMS\\$ICONS_GROUP\\xxx.lnk" "$INSTDIR\\xxx.exe"\n  CreateShortCut "$DESKTOP\\Techshino.lnk" "$INSTDIR\\xxx.exe"\n  !insertmacro MUI_STARTMENU_WRITE_END\nSectionEnd\n\nSection -AdditionalIcons\n  !insertmacro MUI_STARTMENU_WRITE_BEGIN Application\n  CreateShortCut "$SMPROGRAMS\\$ICONS_GROUP\\Uninstall.lnk" "$INSTDIR\\uninst.exe"\n  !insertmacro MUI_STARTMENU_WRITE_END\nSectionEnd\n\nSection -Post\n${IF} ${RunningX64}\n;----------给x64注册表访问权限-----------\n  !ifdef LIBRARY_X64\n  SetRegView 64\n  !endif\n;----------------------------------------\n  WriteUninstaller "$INSTDIR\\uninst.exe"\n  ;创建自启动\n  WriteRegStr HKLM "Software\\Microsoft\\Windows\\CurrentVersion\\Run" "xxx" "$INSTDIR\\xxx.exe"\n  WriteRegStr HKLM "${PRODUCT_DIR_REGKEY}" "" "$INSTDIR\\xxx.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayName" "$(^Name)"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "UninstallString" "$INSTDIR\\uninst.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayIcon" "$INSTDIR\\xxx.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayVersion" "${PRODUCT_VERSION}"\n;----------结束x64注册表访问权限-----------\n  !ifdef LIBRARY_X64\n  SetRegView Lastused\n  !endif\n;----------------------------------------\n${Else}\nWriteUninstaller "$INSTDIR\\uninst.exe"\n  ;创建自启动\n  WriteRegStr HKLM "Software\\Microsoft\\Windows\\CurrentVersion\\Run" "CNCBUK2TESOMon" "$INSTDIR\\xxx.exe"\n  WriteRegStr HKLM "${PRODUCT_DIR_REGKEY}" "" "$INSTDIR\\xxx.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayName" "$(^Name)"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "UninstallString" "$INSTDIR\\uninst.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayIcon" "$INSTDIR\\xxx.exe"\n  WriteRegStr ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}" "DisplayVersion" "${PRODUCT_VERSION}"\n${EndIf}\nSectionEnd\n\n#-- 根据 NSIS 脚本编辑规则，所有 Function 区段必须放置在 Section 区段之后编写，以避免安装程序出现未可预知的问题。--#  \n; ------判断是否安装Firefox代码如下：-------------------  \nVar Firefox\nFunction .inFirefox\nClearErrors\n ReadRegStr $Firefox HKLM "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\App Paths\\firefox.exe" "Path"\n\nIfErrors 0 ExitCheckFirefox\nGoto NoFirefox\nExitCheckFirefox:\n  SetOutPath "$Firefox\\plugins"\n  SetOverwrite ifnewer\n  File "E:\\xxx\\xxx"\nNoFirefox:\nFunctionEnd\n\n/******************************\n *  以下是安装程序的卸载部分  *\n ******************************/\n#-- 根据 NSIS 脚本编辑规则，所有 Function 区段必须放置在 Section 区段之后编写，以避免安装程序出现未可预知的问题。--#\n\n;卸载菜单语言设置\n; -------------------设置多语言字符串显示-----------------------------\nLangString UNINSTALL_MESSAGE 1033 "Are you sure you want to completely remove [Techshino] and all of its components?"\nLangString UNINSTALL_MESSAGE 2052 "你确实要完全移除 [xxx] ，及其所有的组件？"\nLangString UNINSTALL_MESSAGE 1028 "妳確實要完全移除 [xxx] ，及其所有的組件？"\nLangString UNINSTALL_MESSAGE_OK 1033 "[xxx] was successfully removed from your computer."\nLangString UNINSTALL_MESSAGE_OK 2052 "[xxx] 已成功地从你的计算机移除。"\nLangString UNINSTALL_MESSAGE_OK 1028 "[xxx] 已成功地從妳的計算機移除。"\n; --------------------------------------------------------------------\n\nSection Uninstall\n${IF} ${RunningX64}\n;-------消除安装路径转向---------------\n!ifdef LIBRARY_X64\n${DisableX64FSRedirection}\n!endif\n;-------删除64系统system 32下文件----------------------\n  !insertmacro MUI_STARTMENU_GETFOLDER "Application" $ICONS_GROUP\n  nsProcess::_KillProcess "xxx.exe"\n  Delete "$INSTDIR\\uninst.exe"\n  Delete /rebootok "$INSTDIR\\xxx.exe"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n ;----------删除64系统SysWOW64下文件-----------------------\n  Delete "C:\\Windows\\SysWOW64\\xxx"\n  Delete "C:\\Windows\\SysWOW64\\xxx"\n  Delete "C:\\Windows\\SysWOW64\\xxx"\n  Delete "C:\\Windows\\SysWOW64\\xxx"\n  Delete "C:\\Windows\\SysWOW64\\xxx"\n    \n;-------------用于删除开始菜单快捷图标-----------\n  SetShellVarContext all\n;------------------------------------------------\n  Delete "$SMPROGRAMS\\$ICONS_GROUP\\Uninstall.lnk"\n  Delete "$DESKTOP\\xxx.lnk"\n  Delete "$SMPROGRAMS\\$ICONS_GROUP\\xxx.lnk"\n  RMDir "$SMPROGRAMS\\$ICONS_GROUP"\n  RMDir "$SMPROGRAMS\\$(LANG_PRODUCT_FLODER)\\$(LANG_PRODUCT_NAME)"\n  RMDir "$SMPROGRAMS\\$(LANG_PRODUCT_FLODER)"\n  RMDir /rebootok "$INSTDIR"\n  RMDir /rebootok "$PROGRAMFILES64\\xxx\\xxx"\n  RMDir /rebootok "$PROGRAMFILES64\\xxx"\n;----------给x64注册表访问权限-----------\n  !ifdef LIBRARY_X64\n  SetRegView 64\n  !endif\n;----------------------------------------\n  DeleteRegKey HKCU "Software\\Microsoft\\SystemCertificates\\My\\PhysicalStores"\n  DeleteRegKey HKLM "Software\\Microsoft\\Cryptography\\Defaults\\Provider\\xxx"\n  DeleteRegValue HKLM "Software\\Microsoft\\Windows\\CurrentVersion\\Run" "xxx"\n  DeleteRegKey ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}"\n  DeleteRegKey HKLM "${PRODUCT_DIR_REGKEY}"\n;----------结束x64注册表访问权限-----------\n  !ifdef LIBRARY_X64\n  SetRegView Lastused\n  !endif\n;----------------------------------------\n  SetAutoClose true\n${Else}\nCall un.Firefox\n  !insertmacro MUI_STARTMENU_GETFOLDER "Application" $ICONS_GROUP\n  KillProcDLL::KillProc "xxx.exe"\n  Delete "$INSTDIR\\uninst.exe"\n  Delete /rebootok "$INSTDIR\\xxx.exe"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SYSDIR\\xxx"\n  Delete "$SMPROGRAMS\\$ICONS_GROUP\\Uninstall.lnk"\n  Delete "$DESKTOP\\xxx.lnk"\n  Delete "$SMPROGRAMS\\$ICONS_GROUP\\xxx.lnk"\n  RMDir "$SMPROGRAMS\\$ICONS_GROUP"\n  RMDir "$SMPROGRAMS\\$(LANG_PRODUCT_FLODER)\\$(LANG_PRODUCT_NAME)"\n  RMDir "$SMPROGRAMS\\$(LANG_PRODUCT_FLODER)"\n  RMDir /rebootok "$INSTDIR"\n  RMDir /rebootok "$PROGRAMFILES\\xxx\\xxx"\n  RMDir /rebootok "$PROGRAMFILES\\xxx"\n  DeleteRegKey HKCU "Software\\Microsoft\\SystemCertificates\\My\\PhysicalStores"\n  DeleteRegKey HKLM "SOFTWARE\\Microsoft\\Cryptography\\Defaults\\Provider\\xxx"\n  DeleteRegValue HKLM "Software\\Microsoft\\Windows\\CurrentVersion\\Run" "xxx"\n  DeleteRegKey ${PRODUCT_UNINST_ROOT_KEY} "${PRODUCT_UNINST_KEY}"\n  DeleteRegKey HKLM "${PRODUCT_DIR_REGKEY}"\n  SetAutoClose true\n${EndIf}\nSectionEnd\nFunction un.Firefox\n; ------判断是否安装Firefox并删除DLL文件-------------------\nClearErrors\n ReadRegStr $0 HKLM "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\App Paths\\firefox.exe" "Path"\nIfErrors 0 unExitCheckFirefox\nGoto unNoFirefox\n  unExitCheckFirefox:\n  Delete "$0\\plugins\\xxx"\nRMDIR "$0\\plugins"\nunNoFirefox:\nFunctionEnd\n; ----------------------------------------------------------\n\nFunction un.onInit\n!insertmacro MUI_UNGETLANGUAGE\n  MessageBox MB_ICONQUESTION|MB_YESNO|MB_DEFBUTTON2 "$(UNINSTALL_MESSAGE)" IDYES +2\n  Abort\nFunctionEnd\n\nFunction un.onUninstSuccess\n  HideWindow\n  MessageBox MB_ICONINFORMATION|MB_OK "$(UNINSTALL_MESSAGE_OK)"\nFunctionEnd\n\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br"),s("span",{staticClass:"line-number"},[n._v("75")]),s("br"),s("span",{staticClass:"line-number"},[n._v("76")]),s("br"),s("span",{staticClass:"line-number"},[n._v("77")]),s("br"),s("span",{staticClass:"line-number"},[n._v("78")]),s("br"),s("span",{staticClass:"line-number"},[n._v("79")]),s("br"),s("span",{staticClass:"line-number"},[n._v("80")]),s("br"),s("span",{staticClass:"line-number"},[n._v("81")]),s("br"),s("span",{staticClass:"line-number"},[n._v("82")]),s("br"),s("span",{staticClass:"line-number"},[n._v("83")]),s("br"),s("span",{staticClass:"line-number"},[n._v("84")]),s("br"),s("span",{staticClass:"line-number"},[n._v("85")]),s("br"),s("span",{staticClass:"line-number"},[n._v("86")]),s("br"),s("span",{staticClass:"line-number"},[n._v("87")]),s("br"),s("span",{staticClass:"line-number"},[n._v("88")]),s("br"),s("span",{staticClass:"line-number"},[n._v("89")]),s("br"),s("span",{staticClass:"line-number"},[n._v("90")]),s("br"),s("span",{staticClass:"line-number"},[n._v("91")]),s("br"),s("span",{staticClass:"line-number"},[n._v("92")]),s("br"),s("span",{staticClass:"line-number"},[n._v("93")]),s("br"),s("span",{staticClass:"line-number"},[n._v("94")]),s("br"),s("span",{staticClass:"line-number"},[n._v("95")]),s("br"),s("span",{staticClass:"line-number"},[n._v("96")]),s("br"),s("span",{staticClass:"line-number"},[n._v("97")]),s("br"),s("span",{staticClass:"line-number"},[n._v("98")]),s("br"),s("span",{staticClass:"line-number"},[n._v("99")]),s("br"),s("span",{staticClass:"line-number"},[n._v("100")]),s("br"),s("span",{staticClass:"line-number"},[n._v("101")]),s("br"),s("span",{staticClass:"line-number"},[n._v("102")]),s("br"),s("span",{staticClass:"line-number"},[n._v("103")]),s("br"),s("span",{staticClass:"line-number"},[n._v("104")]),s("br"),s("span",{staticClass:"line-number"},[n._v("105")]),s("br"),s("span",{staticClass:"line-number"},[n._v("106")]),s("br"),s("span",{staticClass:"line-number"},[n._v("107")]),s("br"),s("span",{staticClass:"line-number"},[n._v("108")]),s("br"),s("span",{staticClass:"line-number"},[n._v("109")]),s("br"),s("span",{staticClass:"line-number"},[n._v("110")]),s("br"),s("span",{staticClass:"line-number"},[n._v("111")]),s("br"),s("span",{staticClass:"line-number"},[n._v("112")]),s("br"),s("span",{staticClass:"line-number"},[n._v("113")]),s("br"),s("span",{staticClass:"line-number"},[n._v("114")]),s("br"),s("span",{staticClass:"line-number"},[n._v("115")]),s("br"),s("span",{staticClass:"line-number"},[n._v("116")]),s("br"),s("span",{staticClass:"line-number"},[n._v("117")]),s("br"),s("span",{staticClass:"line-number"},[n._v("118")]),s("br"),s("span",{staticClass:"line-number"},[n._v("119")]),s("br"),s("span",{staticClass:"line-number"},[n._v("120")]),s("br"),s("span",{staticClass:"line-number"},[n._v("121")]),s("br"),s("span",{staticClass:"line-number"},[n._v("122")]),s("br"),s("span",{staticClass:"line-number"},[n._v("123")]),s("br"),s("span",{staticClass:"line-number"},[n._v("124")]),s("br"),s("span",{staticClass:"line-number"},[n._v("125")]),s("br"),s("span",{staticClass:"line-number"},[n._v("126")]),s("br"),s("span",{staticClass:"line-number"},[n._v("127")]),s("br"),s("span",{staticClass:"line-number"},[n._v("128")]),s("br"),s("span",{staticClass:"line-number"},[n._v("129")]),s("br"),s("span",{staticClass:"line-number"},[n._v("130")]),s("br"),s("span",{staticClass:"line-number"},[n._v("131")]),s("br"),s("span",{staticClass:"line-number"},[n._v("132")]),s("br"),s("span",{staticClass:"line-number"},[n._v("133")]),s("br"),s("span",{staticClass:"line-number"},[n._v("134")]),s("br"),s("span",{staticClass:"line-number"},[n._v("135")]),s("br"),s("span",{staticClass:"line-number"},[n._v("136")]),s("br"),s("span",{staticClass:"line-number"},[n._v("137")]),s("br"),s("span",{staticClass:"line-number"},[n._v("138")]),s("br"),s("span",{staticClass:"line-number"},[n._v("139")]),s("br"),s("span",{staticClass:"line-number"},[n._v("140")]),s("br"),s("span",{staticClass:"line-number"},[n._v("141")]),s("br"),s("span",{staticClass:"line-number"},[n._v("142")]),s("br"),s("span",{staticClass:"line-number"},[n._v("143")]),s("br"),s("span",{staticClass:"line-number"},[n._v("144")]),s("br"),s("span",{staticClass:"line-number"},[n._v("145")]),s("br"),s("span",{staticClass:"line-number"},[n._v("146")]),s("br"),s("span",{staticClass:"line-number"},[n._v("147")]),s("br"),s("span",{staticClass:"line-number"},[n._v("148")]),s("br"),s("span",{staticClass:"line-number"},[n._v("149")]),s("br"),s("span",{staticClass:"line-number"},[n._v("150")]),s("br"),s("span",{staticClass:"line-number"},[n._v("151")]),s("br"),s("span",{staticClass:"line-number"},[n._v("152")]),s("br"),s("span",{staticClass:"line-number"},[n._v("153")]),s("br"),s("span",{staticClass:"line-number"},[n._v("154")]),s("br"),s("span",{staticClass:"line-number"},[n._v("155")]),s("br"),s("span",{staticClass:"line-number"},[n._v("156")]),s("br"),s("span",{staticClass:"line-number"},[n._v("157")]),s("br"),s("span",{staticClass:"line-number"},[n._v("158")]),s("br"),s("span",{staticClass:"line-number"},[n._v("159")]),s("br"),s("span",{staticClass:"line-number"},[n._v("160")]),s("br"),s("span",{staticClass:"line-number"},[n._v("161")]),s("br"),s("span",{staticClass:"line-number"},[n._v("162")]),s("br"),s("span",{staticClass:"line-number"},[n._v("163")]),s("br"),s("span",{staticClass:"line-number"},[n._v("164")]),s("br"),s("span",{staticClass:"line-number"},[n._v("165")]),s("br"),s("span",{staticClass:"line-number"},[n._v("166")]),s("br"),s("span",{staticClass:"line-number"},[n._v("167")]),s("br"),s("span",{staticClass:"line-number"},[n._v("168")]),s("br"),s("span",{staticClass:"line-number"},[n._v("169")]),s("br"),s("span",{staticClass:"line-number"},[n._v("170")]),s("br"),s("span",{staticClass:"line-number"},[n._v("171")]),s("br"),s("span",{staticClass:"line-number"},[n._v("172")]),s("br"),s("span",{staticClass:"line-number"},[n._v("173")]),s("br"),s("span",{staticClass:"line-number"},[n._v("174")]),s("br"),s("span",{staticClass:"line-number"},[n._v("175")]),s("br"),s("span",{staticClass:"line-number"},[n._v("176")]),s("br"),s("span",{staticClass:"line-number"},[n._v("177")]),s("br"),s("span",{staticClass:"line-number"},[n._v("178")]),s("br"),s("span",{staticClass:"line-number"},[n._v("179")]),s("br"),s("span",{staticClass:"line-number"},[n._v("180")]),s("br"),s("span",{staticClass:"line-number"},[n._v("181")]),s("br"),s("span",{staticClass:"line-number"},[n._v("182")]),s("br"),s("span",{staticClass:"line-number"},[n._v("183")]),s("br"),s("span",{staticClass:"line-number"},[n._v("184")]),s("br"),s("span",{staticClass:"line-number"},[n._v("185")]),s("br"),s("span",{staticClass:"line-number"},[n._v("186")]),s("br"),s("span",{staticClass:"line-number"},[n._v("187")]),s("br"),s("span",{staticClass:"line-number"},[n._v("188")]),s("br"),s("span",{staticClass:"line-number"},[n._v("189")]),s("br"),s("span",{staticClass:"line-number"},[n._v("190")]),s("br"),s("span",{staticClass:"line-number"},[n._v("191")]),s("br"),s("span",{staticClass:"line-number"},[n._v("192")]),s("br"),s("span",{staticClass:"line-number"},[n._v("193")]),s("br"),s("span",{staticClass:"line-number"},[n._v("194")]),s("br"),s("span",{staticClass:"line-number"},[n._v("195")]),s("br"),s("span",{staticClass:"line-number"},[n._v("196")]),s("br"),s("span",{staticClass:"line-number"},[n._v("197")]),s("br"),s("span",{staticClass:"line-number"},[n._v("198")]),s("br"),s("span",{staticClass:"line-number"},[n._v("199")]),s("br"),s("span",{staticClass:"line-number"},[n._v("200")]),s("br"),s("span",{staticClass:"line-number"},[n._v("201")]),s("br"),s("span",{staticClass:"line-number"},[n._v("202")]),s("br"),s("span",{staticClass:"line-number"},[n._v("203")]),s("br"),s("span",{staticClass:"line-number"},[n._v("204")]),s("br"),s("span",{staticClass:"line-number"},[n._v("205")]),s("br"),s("span",{staticClass:"line-number"},[n._v("206")]),s("br"),s("span",{staticClass:"line-number"},[n._v("207")]),s("br"),s("span",{staticClass:"line-number"},[n._v("208")]),s("br"),s("span",{staticClass:"line-number"},[n._v("209")]),s("br"),s("span",{staticClass:"line-number"},[n._v("210")]),s("br"),s("span",{staticClass:"line-number"},[n._v("211")]),s("br"),s("span",{staticClass:"line-number"},[n._v("212")]),s("br"),s("span",{staticClass:"line-number"},[n._v("213")]),s("br"),s("span",{staticClass:"line-number"},[n._v("214")]),s("br"),s("span",{staticClass:"line-number"},[n._v("215")]),s("br"),s("span",{staticClass:"line-number"},[n._v("216")]),s("br"),s("span",{staticClass:"line-number"},[n._v("217")]),s("br"),s("span",{staticClass:"line-number"},[n._v("218")]),s("br"),s("span",{staticClass:"line-number"},[n._v("219")]),s("br"),s("span",{staticClass:"line-number"},[n._v("220")]),s("br"),s("span",{staticClass:"line-number"},[n._v("221")]),s("br"),s("span",{staticClass:"line-number"},[n._v("222")]),s("br"),s("span",{staticClass:"line-number"},[n._v("223")]),s("br"),s("span",{staticClass:"line-number"},[n._v("224")]),s("br"),s("span",{staticClass:"line-number"},[n._v("225")]),s("br"),s("span",{staticClass:"line-number"},[n._v("226")]),s("br"),s("span",{staticClass:"line-number"},[n._v("227")]),s("br"),s("span",{staticClass:"line-number"},[n._v("228")]),s("br"),s("span",{staticClass:"line-number"},[n._v("229")]),s("br"),s("span",{staticClass:"line-number"},[n._v("230")]),s("br"),s("span",{staticClass:"line-number"},[n._v("231")]),s("br"),s("span",{staticClass:"line-number"},[n._v("232")]),s("br"),s("span",{staticClass:"line-number"},[n._v("233")]),s("br"),s("span",{staticClass:"line-number"},[n._v("234")]),s("br"),s("span",{staticClass:"line-number"},[n._v("235")]),s("br"),s("span",{staticClass:"line-number"},[n._v("236")]),s("br"),s("span",{staticClass:"line-number"},[n._v("237")]),s("br"),s("span",{staticClass:"line-number"},[n._v("238")]),s("br"),s("span",{staticClass:"line-number"},[n._v("239")]),s("br"),s("span",{staticClass:"line-number"},[n._v("240")]),s("br"),s("span",{staticClass:"line-number"},[n._v("241")]),s("br"),s("span",{staticClass:"line-number"},[n._v("242")]),s("br"),s("span",{staticClass:"line-number"},[n._v("243")]),s("br"),s("span",{staticClass:"line-number"},[n._v("244")]),s("br"),s("span",{staticClass:"line-number"},[n._v("245")]),s("br"),s("span",{staticClass:"line-number"},[n._v("246")]),s("br"),s("span",{staticClass:"line-number"},[n._v("247")]),s("br"),s("span",{staticClass:"line-number"},[n._v("248")]),s("br"),s("span",{staticClass:"line-number"},[n._v("249")]),s("br"),s("span",{staticClass:"line-number"},[n._v("250")]),s("br"),s("span",{staticClass:"line-number"},[n._v("251")]),s("br"),s("span",{staticClass:"line-number"},[n._v("252")]),s("br"),s("span",{staticClass:"line-number"},[n._v("253")]),s("br"),s("span",{staticClass:"line-number"},[n._v("254")]),s("br"),s("span",{staticClass:"line-number"},[n._v("255")]),s("br"),s("span",{staticClass:"line-number"},[n._v("256")]),s("br"),s("span",{staticClass:"line-number"},[n._v("257")]),s("br"),s("span",{staticClass:"line-number"},[n._v("258")]),s("br"),s("span",{staticClass:"line-number"},[n._v("259")]),s("br"),s("span",{staticClass:"line-number"},[n._v("260")]),s("br"),s("span",{staticClass:"line-number"},[n._v("261")]),s("br"),s("span",{staticClass:"line-number"},[n._v("262")]),s("br"),s("span",{staticClass:"line-number"},[n._v("263")]),s("br"),s("span",{staticClass:"line-number"},[n._v("264")]),s("br"),s("span",{staticClass:"line-number"},[n._v("265")]),s("br"),s("span",{staticClass:"line-number"},[n._v("266")]),s("br"),s("span",{staticClass:"line-number"},[n._v("267")]),s("br"),s("span",{staticClass:"line-number"},[n._v("268")]),s("br"),s("span",{staticClass:"line-number"},[n._v("269")]),s("br"),s("span",{staticClass:"line-number"},[n._v("270")]),s("br"),s("span",{staticClass:"line-number"},[n._v("271")]),s("br"),s("span",{staticClass:"line-number"},[n._v("272")]),s("br"),s("span",{staticClass:"line-number"},[n._v("273")]),s("br"),s("span",{staticClass:"line-number"},[n._v("274")]),s("br"),s("span",{staticClass:"line-number"},[n._v("275")]),s("br"),s("span",{staticClass:"line-number"},[n._v("276")]),s("br"),s("span",{staticClass:"line-number"},[n._v("277")]),s("br"),s("span",{staticClass:"line-number"},[n._v("278")]),s("br"),s("span",{staticClass:"line-number"},[n._v("279")]),s("br"),s("span",{staticClass:"line-number"},[n._v("280")]),s("br"),s("span",{staticClass:"line-number"},[n._v("281")]),s("br"),s("span",{staticClass:"line-number"},[n._v("282")]),s("br"),s("span",{staticClass:"line-number"},[n._v("283")]),s("br"),s("span",{staticClass:"line-number"},[n._v("284")]),s("br"),s("span",{staticClass:"line-number"},[n._v("285")]),s("br"),s("span",{staticClass:"line-number"},[n._v("286")]),s("br"),s("span",{staticClass:"line-number"},[n._v("287")]),s("br"),s("span",{staticClass:"line-number"},[n._v("288")]),s("br"),s("span",{staticClass:"line-number"},[n._v("289")]),s("br"),s("span",{staticClass:"line-number"},[n._v("290")]),s("br"),s("span",{staticClass:"line-number"},[n._v("291")]),s("br"),s("span",{staticClass:"line-number"},[n._v("292")]),s("br"),s("span",{staticClass:"line-number"},[n._v("293")]),s("br"),s("span",{staticClass:"line-number"},[n._v("294")]),s("br"),s("span",{staticClass:"line-number"},[n._v("295")]),s("br"),s("span",{staticClass:"line-number"},[n._v("296")]),s("br"),s("span",{staticClass:"line-number"},[n._v("297")]),s("br"),s("span",{staticClass:"line-number"},[n._v("298")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/allens_zhou/article/details/8575734",target:"_blank",rel:"noopener noreferrer"}},[n._v("原文："),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=t.exports}}]);